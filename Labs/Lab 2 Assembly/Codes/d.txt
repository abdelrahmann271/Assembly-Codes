.234567890123456789
PROB1    START   1000
         LDS    #0
         LDX    #0
LOOP1    LDS    #1
         LDA     I
         ADD    #1
         STA     I
         COMP    LAST
         LDA    #6
         STA     J
         JLT     LOOP2
         JGT     TEST
         JEQ     TEST
LOOP2    LDA     J
         SUB    #1
         COMP    I
         STA     J
         JLT     LOOP1
         JEQ     LOOP1
         LDX     J
         LDCH    ARR,X
         RMO     A,T
         RMO     X,A
         SUB    #1
         RMO     A,X
         LDCH    ARR,X
         COMPR   A,T
         RMO     X,A
         ADD    #1
         RMO     A,X
         JGT     DO
         JLT     LOOP2
         JEQ     LOOP2
DO       LDS    #1
         JSUB    SWAP
         J       LOOP2
         STX     J
         LDA     J
         SUB    #1
         COMP    I
         JGT     LOOP2
         JLT     LOOP1
         JEQ     LOOP1
SWAP     LDCH    ARR,X
         STCH    TEMP
         RMO     X,A
         STA     FI
         SUB    #1
         STA     SI
         LDX     SI
         LDCH    ARR,X
         LDX     FI
         STCH    ARR,X
         LDX     SI
         LDCH    TEMP
         STCH    ARR,X
         RSUB
TEST     LDX    #0
KHAL     TD      OUTDEV
         JEQ     KHAL
         LDCH    ARR,X
         WD      OUTDEV
         RMO     X,A
         ADD    #1
         COMP   #5
         RMO     A,X
         JGT     EXIT
         JEQ     KHAL  
         JLT     KHAL 
TEMP     RESB    1
ARR      BYTE    C'FEDCBA'
LINDX    WORD    5
FI       RESW    1
SI       RESW    1
I        WORD    -1
J        WORD    6
LAST     WORD    5
OUTDEV   BYTE    X'05'
EXIT     END     PROB1